import{r as C,w as j,d as a,o as d,m as c,h as o,a3 as F,Z as L,f as i,N as k,q as s,e as g,A as O,i as x,C as S}from"./index-B5XNB-yB.js";import{d as z}from"./vuedraggable.common-BcdY1H2s.js";const R={class:"component-name"},W=S({name:"DraggableItem"}),M=Object.assign(W,{props:{element:Object,index:Number,drawingList:Array,activeId:{type:[String,Number]},formConf:Object},emits:["activeItem","copyItem","deleteItem"],setup(e,{emit:D}){const m=e,r=C(""),h=C(null),u=D;function f(n){u("activeItem",n)}function y(n,t){u("copyItem",n,t??m.drawingList)}function I(n,t){u("deleteItem",n,t??m.drawingList)}function V(n){console.log(n),m.element.defaultValue=n}return j(()=>m.activeId,n=>{r.value=(m.element.layout==="rowFormItem"?"drawing-row-item":"drawing-item")+(n===m.element.formId?" active-from-item":""),m.formConf.unFocusedComponentBorder&&(r.value+=" unfocus-bordered")},{immediate:!0}),(n,t)=>{const N=a("el-form-item"),$=a("draggable-item"),q=a("el-row"),v=a("el-col"),A=a("CopyDocument"),b=a("el-icon"),B=a("Delete");return d(),c(v,{span:e.element.span,class:k(x(r)),onClick:t[4]||(t[4]=s(l=>f(e.element),["stop"]))},{default:o(()=>[e.element.layout==="colFormItem"?(d(),c(N,{key:0,label:e.element.label,"label-width":e.element.labelWidth?e.element.labelWidth+"px":null,required:e.element.required},{default:o(()=>[(d(),c(F(e.element.tag),{key:e.element.tag,onInput:V,modelValue:e.element.defaultValue,"onUpdate:modelValue":t[0]||(t[0]=l=>e.element.defaultValue=l),placeholder:e.element.placeholder,type:e.element.type?e.element.type:null,style:L(e.element.style)},null,40,["modelValue","placeholder","type","style"]))]),_:1},8,["label","label-width","required"])):(d(),c(v,{key:1,span:e.element.span},{default:o(()=>[i(q,{gutter:e.element.gutter,class:k(e.element.class),onClick:t[1]||(t[1]=s(l=>f(e.element),["stop"]))},{default:o(()=>[g("span",R,O(e.element.componentName),1),i(x(z),{group:"componentsGroup",animation:340,list:e.element.children,class:"drag-wrapper","item-key":"label",ref_key:"draggableItemRef",ref:h},{item:o(l=>[(d(),c($,{key:l.element.renderKey,"drawing-list":e.element.children,element:l.element,index:e.index,"active-id":e.activeId,"form-conf":e.formConf,onActiveItem:w=>f(l.element),onCopyItem:w=>y(l.element,e.element.children),onDeleteItem:w=>I(l.index,e.element.children)},null,8,["drawing-list","element","index","active-id","form-conf","onActiveItem","onCopyItem","onDeleteItem"]))]),_:1},8,["list"])]),_:1},8,["gutter","class"])]),_:1},8,["span"])),g("span",{class:"drawing-item-copy",title:"复制",onClick:t[2]||(t[2]=s(l=>y(e.element),["stop"]))},[i(b,null,{default:o(()=>[i(A)]),_:1})]),g("span",{class:"drawing-item-delete",title:"删除",onClick:t[3]||(t[3]=s(l=>I(e.index),["stop"]))},[i(b,null,{default:o(()=>[i(B)]),_:1})])]),_:1},8,["span","class"])}}});export{M as default};
